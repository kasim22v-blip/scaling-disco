<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø³ØªØ®Ø±Ø¬ Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background-color: #0d1117; color: #c9d1d9; text-align: center; padding: 20px; }
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; padding: 20px; }
        .card { background: #161b22; border: 1px solid #30363d; border-radius: 10px; padding: 15px; transition: 0.3s; }
        .card:hover { border-color: #58a6ff; }
        img { width: 100%; height: 150px; object-fit: cover; border-radius: 5px; cursor: pointer; }
        .link-box { background: #010409; border: 1px solid #30363d; color: #58a6ff; padding: 8px; font-size: 11px; margin: 10px 0; border-radius: 4px; word-break: break-all; }
        button { background: #238636; color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; width: 100%; font-weight: bold; }
        button:hover { background: #2ea043; }
    </style>
</head>
<body>

    <h1>ğŸ”— Ù†Ø¸Ø§Ù… Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØµÙˆØ± Ø§Ù„Ø°ÙƒÙŠ</h1>
    <p>Ø§Ø±ÙØ¹ ØµÙˆØ±Ùƒ Ø¨Ø£Ø³Ù…Ø§Ø¡ (1, 2, 3...) ÙˆØ³ØªØ¬Ø¯ Ø±ÙˆØ§Ø¨Ø·Ù‡Ø§ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø© Ù‡Ù†Ø§</p>

    <div class="gallery" id="gallery"></div>

    <script>
        // --- Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ (Ø¹Ø¯Ù„Ù‡Ø§ Ø¹Ù†Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªÙˆØ¯Ø¹ Ø¬Ø¯ÙŠØ¯) ---
        const username = "kasim22v-blip"; 
        const repoName = window.location.pathname.split('/')[1]; // ÙŠØ¬Ù„Ø¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        const branch = "main"; 

        async function loadLinks() {
            try {
                const response = await fetch(`https://api.github.com/repos/${username}/${repoName}/contents/`);
                const files = await response.json();
                const gallery = document.getElementById('gallery');

                // ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙˆØ± Ø­Ø³Ø¨ Ø§Ù„Ø±Ù‚Ù… (1, 2, 3...)
                files.sort((a, b) => parseInt(a.name) - parseInt(b.name));

                files.forEach(file => {
                    if (file.name.match(/\.(jpg|jpeg|png|gif|webp)$/i)) {
                        // Ù‡Ø°Ø§ Ù‡Ùˆ Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø± (Raw) Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯Ù‡
                        const rawUrl = `https://raw.githubusercontent.com/${username}/${repoName}/${branch}/${file.name}`;
                        
                        const card = document.createElement('div');
                        card.className = 'card';
                        card.innerHTML = `
                            <img src="${rawUrl}" onclick="window.open('${rawUrl}')">
                            <div class="link-box" id="link-${file.name}">${rawUrl}</div>
                            <button onclick="copyLink('${rawUrl}')">Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ğŸ“‹</button>
                        `;
                        gallery.appendChild(card);
                    }
                });
            } catch (error) {
                console.error("Ø®Ø·Ø£ ÙÙŠ Ø¬Ù„Ø¨ Ø§Ù„ØµÙˆØ± Ù…Ù† Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹.");
            }
        }

        function copyLink(url) {
            navigator.clipboard.writeText(url);
            alert("ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¨Ù†Ø¬Ø§Ø­!");
        }

        loadLinks();
    </script>
</body>
</html>
